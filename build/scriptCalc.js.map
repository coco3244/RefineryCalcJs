{"version":3,"sources":["../src/scriptCalc.js"],"names":["scrollContainer","document","querySelector","addJobButton","selectFiltre","addEventListener","event","preventDefault","scrollLeft","deltaY","jobsContainer","numJob","querySelectorAll","length","jobHtml","innerHTML","newJob","selectMinerai","listeMineraisDiv","listeQuantitesDiv","value","input","createElement","setAttribute","classList","add","label","appendChild","remove","labels","forEach","contains","parentNode","select","options","raffinerie","toString","delUnit","target","inputs","raffinerySelect","console","log","e","pseudoCont","pseudo","fetchDB","numb","nbUnit","split","splice","join","Number"],"mappings":";;AAAA,IAAMA,eAAe,GAAGC,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAAxB;AACA,IAAMC,YAAY,GAAGF,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAArB;AACA,IAAME,YAAY,GAAGH,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAArB;AAEAF,eAAe,CAACK,gBAAhB,CAAiC,OAAjC,EAAyC,UAAAC,KAAK,EAAE;AAC5CA,EAAAA,KAAK,CAACC,cAAN;AACAP,EAAAA,eAAe,CAACQ,UAAhB,IAA8BF,KAAK,CAACG,MAApC;AACH,CAHD;AAKAN,YAAY,CAACE,gBAAb,CAA8B,OAA9B,EAAuC,UAACC,KAAD,EAAW;AAC9CA,EAAAA,KAAK,CAACC,cAAN;AACA,MAAMG,aAAa,GAAGT,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAAtB;AAEA,MAAMS,MAAM,GAAGV,QAAQ,CAACW,gBAAT,CAA0B,MAA1B,EAAkCC,MAAlC,GAA2C,CAA1D;AACA,MAAIC,OAAO;AAAG;AAAH,sCACUH,MADV,qFAE2BA,MAF3B,kuEAAX;AA8DFD,EAAAA,aAAa,CAACK,SAAd,GAA0BD,OAAO,GAAGJ,aAAa,CAACK,SAAlD;AACA,MAAMC,MAAM,GAAGf,QAAQ,CAACC,aAAT,eAA8BS,MAA9B,EAAf;AAEA,MAAMM,aAAa,GAAGD,MAAM,CAACd,aAAP,CAAqB,gBAArB,CAAtB;AACA,MAAMgB,gBAAgB,GAAGF,MAAM,CAACd,aAAP,CAAqB,gBAArB,CAAzB;AACA,MAAMiB,iBAAiB,GAAGH,MAAM,CAACd,aAAP,CAAqB,iBAArB,CAA1B;AAGF;AACA;AACA;AACA;;AACAc,EAAAA,MAAM,CAACd,aAAP,CAAqB,gBAArB,EAAuCG,gBAAvC,CAAwD,OAAxD,EAAgE,UAAAC,KAAK,EAAE;AACnE,QAAG,CAACY,gBAAgB,CAAChB,aAAjB,YAAmCe,aAAa,CAACG,KAAjD,EAAJ,EAA8D;AAC1D,UAAMC,KAAK,GAAGpB,QAAQ,CAACqB,aAAT,CAAuB,OAAvB,CAAd;AACAD,MAAAA,KAAK,CAACE,YAAN,CAAmB,MAAnB,EAA0B,QAA1B;AACAF,MAAAA,KAAK,CAACG,SAAN,CAAgBC,GAAhB,WAAuBR,aAAa,CAACG,KAArC;AAEA,UAAMM,KAAK,GAAGzB,QAAQ,CAACqB,aAAT,CAAuB,OAAvB,CAAd;AACAI,MAAAA,KAAK,CAACF,SAAN,CAAgBC,GAAhB,WAAuBR,aAAa,CAACG,KAArC;AACAM,MAAAA,KAAK,CAACF,SAAN,CAAgBC,GAAhB;AACAC,MAAAA,KAAK,CAACX,SAAN,aAAmBE,aAAa,CAACG,KAAjC;AAEAD,MAAAA,iBAAiB,CAACQ,WAAlB,CAA8BN,KAA9B;AACAH,MAAAA,gBAAgB,CAACS,WAAjB,CAA6BD,KAA7B;AACH;AAGJ,GAhBD;AAiBA;AACA;AACA;;AACAV,EAAAA,MAAM,CAACd,aAAP,CAAqB,iBAArB,EAAwCG,gBAAxC,CAAyD,OAAzD,EAAiE,UAAAC,KAAK,EAAE;AACpEa,IAAAA,iBAAiB,CAACjB,aAAlB,YAAoCe,aAAa,CAACG,KAAlD,GAA2DQ,MAA3D;AACAV,IAAAA,gBAAgB,CAAChB,aAAjB,YAAmCe,aAAa,CAACG,KAAjD,GAA0DQ,MAA1D;AACH,GAHD;AAKA;AACA;AACA;AACA;AACA;AACA;;AACAZ,EAAAA,MAAM,CAACd,aAAP,CAAqB,WAArB,EAAkCG,gBAAlC,CAAmD,OAAnD,EAA2D,UAAAC,KAAK,EAAE;AAE9D,QAAMuB,MAAM,GAAGb,MAAM,CAACJ,gBAAP,CAAwB,OAAxB,CAAf;AACAK,IAAAA,aAAa,CAACO,SAAd,CAAwBI,MAAxB,CAA+B,MAA/B;AACAZ,IAAAA,MAAM,CAACd,aAAP,CAAqB,gBAArB,EAAuCsB,SAAvC,CAAiDI,MAAjD,CAAwD,MAAxD;AACAZ,IAAAA,MAAM,CAACd,aAAP,CAAqB,iBAArB,EAAwCsB,SAAxC,CAAkDI,MAAlD,CAAyD,MAAzD;AAEAC,IAAAA,MAAM,CAACC,OAAP,CAAe,UAAAJ,KAAK,EAAE;AAElB,UAAG,CAACA,KAAK,CAACF,SAAN,CAAgBO,QAAhB,CAAyB,SAAzB,CAAJ,EAAwC;AACpC,YAAMV,KAAK,GAAGpB,QAAQ,CAACqB,aAAT,CAAuB,OAAvB,CAAd;;AACA,YAAGI,KAAK,CAACM,UAAN,CAAiBR,SAAjB,CAA2BO,QAA3B,CAAoC,gBAApC,CAAH,EAAyD;AACrDV,UAAAA,KAAK,CAACE,YAAN,CAAmB,MAAnB,EAA0B,QAA1B;AACH,SAFD,MAEK;AACDF,UAAAA,KAAK,CAACE,YAAN,CAAmB,MAAnB,EAA0B,MAA1B;AACH;;AAED,YAAGG,KAAK,CAACF,SAAN,CAAgBO,QAAhB,CAAyB,WAAzB,CAAH,EAAyC;AACrC,cAAME,MAAM,GAAGhC,QAAQ,CAACqB,aAAT,CAAuB,QAAvB,CAAf;AACAW,UAAAA,MAAM,CAAClB,SAAP;AAQAkB,UAAAA,MAAM,CAACT,SAAP,CAAiBC,GAAjB,CAAqB,WAArB;AACA,cAAMS,OAAO,GAAGD,MAAM,CAACrB,gBAAP,CAAwB,QAAxB,CAAhB;AACA,cAAMuB,UAAU,GAAGT,KAAK,CAACX,SAAzB;AACAmB,UAAAA,OAAO,CAACJ,OAAR,CAAgB,UAAAV,KAAK,EAAE;AACnB,gBAAGA,KAAK,CAACL,SAAN,KAAkBoB,UAArB,EAAgC;AAC5BF,cAAAA,MAAM,CAACb,KAAP,GAAae,UAAb;AACH;AACJ,WAJD;AAKAT,UAAAA,KAAK,CAACM,UAAN,CAAiBL,WAAjB,CAA6BM,MAA7B;AACAP,UAAAA,KAAK,CAACE,MAAN;AACH,SApBD,MAoBK;AACDP,UAAAA,KAAK,CAACG,SAAN,CAAgBC,GAAhB,WAAuBC,KAAK,CAACF,SAAN,CAAgBY,QAAhB,EAAvB;AACAf,UAAAA,KAAK,CAACE,YAAN,CAAmB,OAAnB,YAA8Bc,OAAO,CAACX,KAAK,CAACX,SAAP,EAAiB,CAAjB,CAArC;AACAW,UAAAA,KAAK,CAACM,UAAN,CAAiBL,WAAjB,CAA6BN,KAA7B;AACAK,UAAAA,KAAK,CAACE,MAAN;AACH;AAEJ;AACJ,KAtCD;AAwCA,QAAMU,MAAM,GAAGhC,KAAK,CAACgC,MAAN,CAAaN,UAA5B;AACAM,IAAAA,MAAM,CAACpC,aAAP,CAAqB,aAArB,EAAoCsB,SAApC,CAA8CI,MAA9C,CAAqD,MAArD;AACAU,IAAAA,MAAM,CAACpC,aAAP,CAAqB,WAArB,EAAkCsB,SAAlC,CAA4CC,GAA5C,CAAgD,MAAhD;AACH,GAlDD;AAoDA;AACA;AACA;AACA;AACA;AACA;;AACCT,EAAAA,MAAM,CAACd,aAAP,CAAqB,aAArB,EAAoCG,gBAApC,CAAqD,OAArD,EAA6D,UAAAC,KAAK,EAAE;AACjE,QAAMgC,MAAM,GAAGhC,KAAK,CAACgC,MAAN,CAAaN,UAA5B;AACAM,IAAAA,MAAM,CAACpC,aAAP,CAAqB,aAArB,EAAoCsB,SAApC,CAA8CC,GAA9C,CAAkD,MAAlD;AACAa,IAAAA,MAAM,CAACpC,aAAP,CAAqB,WAArB,EAAkCsB,SAAlC,CAA4CI,MAA5C,CAAmD,MAAnD;AAEA,QAAMW,MAAM,GAAGvB,MAAM,CAACJ,gBAAP,CAAwB,OAAxB,CAAf;AACA2B,IAAAA,MAAM,CAACT,OAAP,CAAe,UAAAT,KAAK,EAAE;AAClB,UAAMK,KAAK,GAAGzB,QAAQ,CAACqB,aAAT,CAAuB,OAAvB,CAAd;AAEAI,MAAAA,KAAK,CAACF,SAAN,CAAgBC,GAAhB,WAAuBJ,KAAK,CAACG,SAAN,CAAgBY,QAAhB,EAAvB;;AACA,UAAG,CAACV,KAAK,CAACF,SAAN,CAAgBO,QAAhB,CAAyB,aAAzB,CAAJ,EAA4C;AACxCL,QAAAA,KAAK,CAACX,SAAN,aAAmBM,KAAK,CAACD,KAAzB;AACH,OAFD,MAEK;AACDM,QAAAA,KAAK,CAACX,SAAN,aAAmBM,KAAK,CAACD,KAAzB;AACH;;AAEDC,MAAAA,KAAK,CAACW,UAAN,CAAiBL,WAAjB,CAA6BD,KAA7B;AACAL,MAAAA,KAAK,CAACO,MAAN;AACH,KAZD;AAcA,QAAMY,eAAe,GAAGxB,MAAM,CAACd,aAAP,CAAqB,YAArB,CAAxB;AACA,QAAMwB,KAAK,GAAGzB,QAAQ,CAACqB,aAAT,CAAuB,OAAvB,CAAd;AACAmB,IAAAA,OAAO,CAACC,GAAR,CAAY1B,MAAZ;AACAU,IAAAA,KAAK,CAACF,SAAN,CAAgBC,GAAhB,WAAuBe,eAAe,CAAChB,SAAhB,CAA0BY,QAA1B,EAAvB;AACAV,IAAAA,KAAK,CAACX,SAAN,GAAgByB,eAAe,CAACpB,KAAhC;AACAoB,IAAAA,eAAe,CAACR,UAAhB,CAA2BL,WAA3B,CAAuCD,KAAvC;AACAc,IAAAA,eAAe,CAACZ,MAAhB;AAEAX,IAAAA,aAAa,CAACO,SAAd,CAAwBC,GAAxB,CAA4B,MAA5B;AACAT,IAAAA,MAAM,CAACd,aAAP,CAAqB,gBAArB,EAAuCsB,SAAvC,CAAiDC,GAAjD,CAAqD,MAArD;AACAT,IAAAA,MAAM,CAACd,aAAP,CAAqB,iBAArB,EAAwCsB,SAAxC,CAAkDC,GAAlD,CAAsD,MAAtD;AACH,GA/BA;AAiCA,CAzMD;AA4MArB,YAAY,CAACC,gBAAb,CAA8B,OAA9B,EAAuC,UAAAsC,CAAC,EAAI;AACxCF,EAAAA,OAAO,CAACC,GAAR,CAAYtC,YAAY,CAACgB,KAAzB;AACA,MAAMwB,UAAU,GAAG3C,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAnB;AACA,MAAM2C,MAAM,GAAGD,UAAU,CAAC7B,SAA1B;AACA+B,EAAAA,OAAO,CAACD,MAAD,EAASzC,YAAY,CAACgB,KAAtB,CAAP;AACH,CALD;AASA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASiB,OAAT,CAAiBU,IAAjB,EAAuBC,MAAvB,EAA+B;AAC3BD,EAAAA,IAAI,GAAGA,IAAI,CAACE,KAAL,CAAW,EAAX,CAAP;AACAF,EAAAA,IAAI,CAACG,MAAL,CAAaH,IAAI,CAAClC,MAAL,GAAcmC,MAA3B,EAAoCA,MAApC;AACAD,EAAAA,IAAI,GAAGA,IAAI,CAACI,IAAL,CAAU,EAAV,CAAP;AACA,SAAOC,MAAM,CAACL,IAAD,CAAb;AACH","sourcesContent":["const scrollContainer = document.querySelector('.jobsContainer');\r\nconst addJobButton = document.querySelector('.addJobCont');\r\nconst selectFiltre = document.querySelector(\"#selectFiltre\");\r\n\r\nscrollContainer.addEventListener('wheel',event=>{\r\n    event.preventDefault();\r\n    scrollContainer.scrollLeft += event.deltaY;\r\n});\r\n\r\naddJobButton.addEventListener(\"click\", (event) => {\r\n    event.preventDefault();\r\n    const jobsContainer = document.querySelector(\".jobsContainer\");\r\n    \r\n    const numJob = document.querySelectorAll(\".job\").length + 1;\r\n    let jobHtml = /*html*/ `\r\n    <div class=\"job job${numJob}\" id=\"jobId_TOBECHANGED\">\r\n        <label class=\"titleJob dontmod\">${numJob}</label>\r\n\r\n        <div class=\"mineraisContainer\">\r\n                    <select class=\"selectMinerai\"> \r\n                    <option>quantainum</option>\r\n                    <option>bexalite</option>\r\n                    <option>taranite</option>\r\n                    <option>borase</option>\r\n                    <option>laranite</option>\r\n                    <option>agricium</option>\r\n                    <option>hephaestanite</option>\r\n                    <option>titanium</option>                               \r\n                    </select>\r\n                <button class=\"btnAddMineral\">Ajouter</button>\r\n                <button class=\"btnSuppMineral\">Supprimer</button>\r\n            <div class=\"mineraisJob\">\r\n                \r\n                \r\n                <div class=\"listeMinerais\">\r\n                    \r\n                </div>\r\n\r\n                <span class=\"separate\"></span>\r\n                <div class=\"listeQuantites\">\r\n                    \r\n                </div>\r\n            </div>\r\n            <label class=\"titreCat dontmod\">Total de ce Raffinage : </label>\r\n            <div class=\"tabCat\">\r\n                0\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"emplacementContainer\">\r\n            <label class=\"titreCat dontmod\">Emplacement : </label>\r\n            <div class=\"tabCat\">\r\n                <select class=\"Raffinery\"> \r\n                    <option>CRU-L1</option>\r\n                    <option>ARC-L1</option>\r\n                    <option>ARC-L2</option>\r\n                    <option>HUR-L1</option>\r\n                    <option>HUR-L2</option>\r\n                    <option>MIC-L2</option>                             \r\n                </select>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"tempsContainer\">\r\n            <label class=\"titreCat dontmod\">Temps Restant : </label>\r\n            <div class=\"tabCat\">\r\n                <input class=\"temprestant\" type=\"text\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"btnsContainer\">\r\n            <button class=\"btnTransport\">Transporter</button>\r\n            <button class=\"btnModif hide\">Modifier</button>\r\n            <button class=\"btnConfirm\">Confirmer</button>\r\n        </div>\r\n    </div>`;\r\n  jobsContainer.innerHTML = jobHtml + jobsContainer.innerHTML;\r\n  const newJob = document.querySelector(`.job${numJob}`);\r\n  \r\n  const selectMinerai = newJob.querySelector('.selectMinerai');\r\n  const listeMineraisDiv = newJob.querySelector('.listeMinerais');\r\n  const listeQuantitesDiv = newJob.querySelector('.listeQuantites');\r\n  \r\n\r\n/**\r\n* listener pour ajouter un minerai\r\n* ca cree un label et un input et ca les insère dans leur div correspondante\r\n*/\r\nnewJob.querySelector('.btnAddMineral').addEventListener('click',event=>{  \r\n    if(!listeMineraisDiv.querySelector(`.${selectMinerai.value}`)){\r\n        const input = document.createElement('input');\r\n        input.setAttribute('type','number');\r\n        input.classList.add(`${selectMinerai.value}`);\r\n        \r\n        const label = document.createElement('label');\r\n        label.classList.add(`${selectMinerai.value}`);\r\n        label.classList.add(`dontmod`);\r\n        label.innerHTML=`${selectMinerai.value}`;\r\n        \r\n        listeQuantitesDiv.appendChild(input);\r\n        listeMineraisDiv.appendChild(label);\r\n    }\r\n    \r\n    \r\n}); \r\n/**\r\n* Supprime les minerai des 2 div correspondante\r\n*/\r\nnewJob.querySelector('.btnSuppMineral').addEventListener('click',event=>{    \r\n    listeQuantitesDiv.querySelector(`.${selectMinerai.value}`).remove();\r\n    listeMineraisDiv.querySelector(`.${selectMinerai.value}`).remove();   \r\n}); \r\n\r\n/**\r\n* listener du bouton confirmation\r\n* ça confirme la modification\r\n* ca re-affiche le menu déroulant des minerai et les bouton ajouter/supprimer\r\n* ca cache le bouton modifier et re affiche le bouton confirmer\r\n*/\r\nnewJob.querySelector('.btnModif').addEventListener('click',event=>{  \r\n    \r\n    const labels = newJob.querySelectorAll('label');\r\n    selectMinerai.classList.remove('hide');\r\n    newJob.querySelector('.btnAddMineral').classList.remove('hide');\r\n    newJob.querySelector('.btnSuppMineral').classList.remove('hide');\r\n    \r\n    labels.forEach(label=>{\r\n        \r\n        if(!label.classList.contains('dontmod')){\r\n            const input = document.createElement('input');\r\n            if(label.parentNode.classList.contains('listeQuantites')){\r\n                input.setAttribute('type','number');\r\n            }else{\r\n                input.setAttribute('type','text');\r\n            }\r\n            \r\n            if(label.classList.contains('Raffinery')){\r\n                const select = document.createElement('select');\r\n                select.innerHTML=`\r\n                <option>CRU-L1</option>\r\n                <option>ARC-L1</option>\r\n                <option>ARC-L2</option>\r\n                <option>HUR-L1</option>\r\n                <option>HUR-L2</option>\r\n                <option>MIC-L2</option>                             \r\n                `\r\n                select.classList.add('Raffinery')\r\n                const options = select.querySelectorAll('option');\r\n                const raffinerie = label.innerHTML;\r\n                options.forEach(value=>{\r\n                    if(value.innerHTML===raffinerie){\r\n                        select.value=raffinerie;\r\n                    }\r\n                });\r\n                label.parentNode.appendChild(select)\r\n                label.remove();\r\n            }else{\r\n                input.classList.add(`${label.classList.toString()}`);\r\n                input.setAttribute('value',`${delUnit(label.innerHTML,5)}`)\r\n                label.parentNode.appendChild(input);\r\n                label.remove();\r\n            }\r\n            \r\n        }\r\n    })\r\n    \r\n    const target = event.target.parentNode;\r\n    target.querySelector('.btnConfirm').classList.remove('hide');\r\n    target.querySelector('.btnModif').classList.add('hide');\r\n}); \r\n\r\n/**\r\n  * listener pour la confirmation de modification\r\n  * ca cache le menu déroulant avec les minerai ainsi que les boutons ajouter et supprimer\r\n  * ca transforme les input en label\r\n  * ca cache le bouton confirmer et re affiche le bouton modifier\r\n  */\r\n newJob.querySelector('.btnConfirm').addEventListener('click',event=>{  \r\n    const target = event.target.parentNode;\r\n    target.querySelector('.btnConfirm').classList.add('hide');\r\n    target.querySelector('.btnModif').classList.remove('hide');\r\n    \r\n    const inputs = newJob.querySelectorAll('input');\r\n    inputs.forEach(input=>{\r\n        const label = document.createElement('label');\r\n        \r\n        label.classList.add(`${input.classList.toString()}`)\r\n        if(!label.classList.contains('temprestant')){\r\n            label.innerHTML=`${input.value} cSCU`;\r\n        }else{\r\n            label.innerHTML=`${input.value}`;\r\n        }\r\n        \r\n        input.parentNode.appendChild(label);\r\n        input.remove();\r\n    })\r\n    \r\n    const raffinerySelect = newJob.querySelector('.Raffinery')\r\n    const label = document.createElement('label');\r\n    console.log(newJob);\r\n    label.classList.add(`${raffinerySelect.classList.toString()}`)\r\n    label.innerHTML=raffinerySelect.value\r\n    raffinerySelect.parentNode.appendChild(label)\r\n    raffinerySelect.remove();\r\n\r\n    selectMinerai.classList.add('hide');\r\n    newJob.querySelector('.btnAddMineral').classList.add('hide');\r\n    newJob.querySelector('.btnSuppMineral').classList.add('hide');\r\n}); \r\n\r\n});\r\n\r\n\r\nselectFiltre.addEventListener(\"input\", e => {\r\n    console.log(selectFiltre.value);\r\n    const pseudoCont = document.querySelector(\"#pseudoAct\");\r\n    const pseudo = pseudoCont.innerHTML;\r\n    fetchDB(pseudo, selectFiltre.value);\r\n})\r\n\r\n\r\n\r\n/**\r\n* fonction fournie par Liduen\r\n* @param {*} numb \r\n* @param {*} nbUnit \r\n* @returns \r\n*/\r\nfunction delUnit(numb, nbUnit) {\r\n    numb = numb.split(\"\");\r\n    numb.splice((numb.length - nbUnit), nbUnit);\r\n    numb = numb.join(\"\");\r\n    return Number(numb);\r\n}\r\n"],"file":"scriptCalc.js"}